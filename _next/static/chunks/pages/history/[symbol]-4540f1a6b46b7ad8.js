(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[640],{2960:function(f,a,d){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history/[symbol]",function(){return d(3253)}])},3253:function(f,a,d){"use strict";d.r(a),d.d(a,{default:function(){return x}});var e=d(5893),t=d(1822),r=d.n(t),c=d(1163),i=d(7294),o=d(9008),n=d.n(o),s=d(3148),l=d(6495);s.kL.register(s.uw,s.f$,s.od,s.jn,s.Dx,s.u,s.De);let b=(f,a)=>{var d;let e=(null==f?void 0:null===(d=f.datasets)||void 0===d?void 0:d.flatMap(f=>f.data.filter(f=>null!==f)))||[],t=Math.max(...e,.01),r=Math.min(...e,-.01),c=(t+r)/2,i=1.2*Math.max(Math.abs(t-c),Math.abs(r-c)),o=Math.floor((c-i)*1e3)/1e3,n=Math.ceil((c+i)*1e3)/1e3,s=n-o,l=s<=.1?.02:s<=.2?.04:s<=.5?.1:s<=1?.2:s<=2?.4:.5,b=(Math.ceil(s/l)*l-s)/2;return{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{color:a?"#fff":"#666"}},title:{display:!0,text:"資金費率歷史走勢",color:a?"#fff":"#333"},tooltip:{callbacks:{label:function(f){return"".concat(f.dataset.label,": ").concat(f.parsed.y.toFixed(4),"%")}},itemSort:function(f,a){return a.parsed.y-f.parsed.y},backgroundColor:a?"rgba(0, 0, 0, 0.9)":"rgba(255, 255, 255, 0.9)",titleColor:a?"#fff":"#333",bodyColor:a?"#fff":"#333",borderColor:a?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}},scales:{y:{min:o=Math.floor((o-b)*1e3)/1e3,max:n=Math.ceil((n+b)*1e3)/1e3,ticks:{callback:f=>f.toFixed(4)+"%",stepSize:l,maxTicksLimit:10,color:a?"#fff":"#666"},grid:{color:a?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}},x:{grid:{display:!1},ticks:{maxRotation:0,autoSkip:!0,maxTicksLimit:12,color:a?"#fff":"#666"}}},elements:{line:{tension:.4,borderWidth:2},point:{radius:3,hoverRadius:6}}}},p={Binance:"#F3BA2F",Bybit:"#4183FC",Bitget:"#00b067",OKX:"#2FB8E7",HyperLiquid:"#FF0000"},u=["Binance","Bybit","Bitget","OKX","HyperLiquid"],g=(f,a)=>{let d;if(!(null==f?void 0:f.data))return null;let e=new Date;switch(a){case"24h":d=new Date(e-864e5);break;case"7d":d=new Date(e-6048e5);break;case"30d":d=new Date(e-2592e6)}let t={};return u.forEach(a=>{let e=f.data.filter(f=>f.exchange===a&&new Date(f.time)>d&&null!==f.rate&&!f.isCurrent).map(f=>parseFloat(f.rate));t[a]=e.length>0?e.reduce((f,a)=>f+a,0).toFixed(4):null}),t};function x(){let{symbol:f}=(0,c.useRouter)().query,[a,d]=(0,i.useState)(null),[t,o]=(0,i.useState)(null),[s,x]=(0,i.useState)(!0),[m,h]=(0,i.useState)("all"),[y,v]=(0,i.useState)("24h"),[w,k]=(0,i.useState)(null),[j,N]=(0,i.useState)(null),[z,D]=(0,i.useState)({x:0,y:0}),[F,S]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let f;if(!(null==a?void 0:a.data))return;let d=new Date;switch(y){case"24h":f=new Date(d-864e5);break;case"7d":f=new Date(d-6048e5);break;case"30d":f=new Date(d-2592e6)}k(a.data.filter(a=>new Date(a.time)>f))},[y,a]),(0,i.useEffect)(()=>{f&&(async()=>{try{x(!0);let a=await fetch("/api/history/".concat(f,"?exchange=").concat(m)),e=await a.json();d(e)}catch(f){console.error("Error fetching history:",f)}finally{x(!1)}})()},[f,m]),(0,i.useEffect)(()=>{if(!f)return;let a=async()=>{try{var a,d,e,t,r,c,i;let n={time:new Date().toISOString(),rates:{}};u.forEach(f=>{n.rates[f]={rate:null,hourlyRates:null}});try{let e=await fetch("https://api.bitget.com/api/v2/mix/market/current-fund-rate?"+"symbol=".concat(f,"USDT&productType=USDT-FUTURES")),t=await e.json();if("00000"===t.code&&(null===(d=t.data)||void 0===d?void 0:null===(a=d[0])||void 0===a?void 0:a.symbol)==="".concat(f,"USDT")&&t.data[0].fundingRate){let f=parseFloat(t.data[0].fundingRate);isNaN(f)?console.debug("Bitget invalid rate value:",t.data[0].fundingRate):n.rates.Bitget.rate=(100*f).toFixed(4)}else console.debug("Bitget response structure:",{code:t.code,msg:t.msg,data:t.data})}catch(f){console.error("Bitget current rate error:",f)}try{let a=await fetch("https://fapi.binance.com/fapi/v1/premiumIndex?symbol=".concat(f,"USDT")),d=await a.json();d.lastFundingRate&&(n.rates.Binance.rate=(100*parseFloat(d.lastFundingRate)).toFixed(4))}catch(f){console.error("Binance current rate error:",f)}try{let a=await fetch("https://api.bybit.com/v5/market/tickers?category=linear&symbol=".concat(f,"USDT")),d=await a.json();if(null===(t=d.result)||void 0===t?void 0:null===(e=t.list)||void 0===e?void 0:e[0]){let f=d.result.list[0];f.fundingRate&&!isNaN(parseFloat(f.fundingRate))&&(n.rates.Bybit.rate=(100*parseFloat(f.fundingRate)).toFixed(4))}}catch(f){console.error("Bybit current rate error:",f)}try{let a=await fetch("https://www.okx.com/api/v5/public/funding-rate?instId=".concat(f,"-USDT-SWAP")),d=await a.json();if(null===(r=d.data)||void 0===r?void 0:r[0]){let f=d.data[0].fundingRate;f&&!isNaN(parseFloat(f))&&(n.rates.OKX.rate=(100*parseFloat(f)).toFixed(4))}}catch(f){console.error("OKX current rate error:",f),n.rates.OKX.rate||console.debug("OKX Debug:",{error:f.message,data:null===(i=okxData)||void 0===i?void 0:null===(c=i.data)||void 0===c?void 0:c[0]})}try{let a=await fetch("https://api.hyperliquid.xyz/info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"metaAndAssetCtxs"})}),d=await a.json();if(Array.isArray(d)&&2===d.length){let[a,e]=d,t=a.universe.findIndex(a=>a.name===f);if(-1!==t&&e[t]){let a=await fetch("https://api.hyperliquid.xyz/info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"fundingHistory",coin:f,startTime:Math.floor(Date.now()-36e5),endTime:Math.floor(Date.now())})}),d=await a.json(),e=0;Array.isArray(d)&&(e=d.reduce((f,a)=>f+parseFloat(a.funding||0),0)),n.rates.HyperLiquid={rate:(100*e).toFixed(4),hourlyRates:d.map(f=>({time:new Date(f.time).toLocaleString(),rate:(100*parseFloat(f.funding)).toFixed(4)}))}}}}catch(f){console.error("HyperLiquid current rate error:",f)}Object.keys(n.rates).forEach(f=>{let a=n.rates[f].rate;("NaN"===a||"undefined"===a||null===a)&&(n.rates[f].rate=null)}),o(n)}catch(f){console.error("Error fetching current rates:",f)}};a();let d=setInterval(a,6e4);return()=>clearInterval(d)},[f]),(0,i.useEffect)(()=>{S(window.matchMedia("(prefers-color-scheme: dark)").matches)},[]);let R=()=>{if(!w)return null;let f={};w.forEach(a=>{let d=new Date(a.time).toLocaleString();f[d]||(f[d]={}),f[d][a.exchange]=a.rate});let a=Object.keys(f).reverse(),d=u.filter(f=>"all"===m||m===f).map(d=>({label:d,data:a.map(a=>{let e=f[a][d];return void 0!==e?e:null}),borderColor:p[d],backgroundColor:p[d],tension:.4,pointRadius:3,pointHoverRadius:6,borderWidth:2,spanGaps:!0,order:u.indexOf(d)}));return{labels:a,datasets:d}},B=(f,a)=>{if(!(null==a?void 0:a.hourlyRates))return;let d=f.currentTarget.getBoundingClientRect();N(a.hourlyRates.filter(f=>f.isHourly).map(f=>"".concat(f.time,": ").concat(f.rate,"%")).join("\n")),D({x:d.left+d.width/2,y:d.top-10})},C=()=>{N(null)};return f?(0,e.jsxs)("div",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" "+"container ".concat(F?"dark":""),children:[(0,e.jsx)(n(),{children:(0,e.jsxs)("title",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:[f," - 資金費率歷史"]})}),(0,e.jsxs)("main",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:[(0,e.jsxs)("div",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" header",children:[(0,e.jsxs)("h1",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:[f," 資金費率歷史"]}),(0,e.jsxs)("div",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" controls",children:[(0,e.jsxs)("select",{value:m,onChange:f=>h(f.target.value),className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" select-control",children:[(0,e.jsx)("option",{value:"all",className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:"所有交易所"}),(0,e.jsx)("option",{value:"HyperLiquid",className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:"HyperLiquid"}),(0,e.jsx)("option",{value:"Binance",className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:"Binance"}),(0,e.jsx)("option",{value:"Bybit",className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:"Bybit"}),(0,e.jsx)("option",{value:"Bitget",className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:"Bitget"}),(0,e.jsx)("option",{value:"OKX",className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:"OKX"})]}),(0,e.jsxs)("div",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" time-range",children:[(0,e.jsx)("button",{onClick:()=>v("24h"),className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" "+(("24h"===y?"active":"")||""),children:"24H"}),(0,e.jsx)("button",{onClick:()=>v("7d"),className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" "+(("7d"===y?"active":"")||""),children:"7D"}),(0,e.jsx)("button",{onClick:()=>v("30d"),className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" "+(("30d"===y?"active":"")||""),children:"30D"})]}),(0,e.jsx)("button",{onClick:()=>S(!F),className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" theme-toggle",children:F?"☀️":"\uD83C\uDF19"})]})]}),s?(0,e.jsx)("div",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" loading",children:"載入中..."}):(0,e.jsxs)("div",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" history-content",children:[(0,e.jsx)("div",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" chart-container",children:w&&(0,e.jsx)(l.x1,{options:b(R(),F),data:R()})}),(0,e.jsx)("div",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" data-table",children:(0,e.jsxs)("table",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:[(0,e.jsx)("thead",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:(0,e.jsxs)("tr",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:[(0,e.jsx)("th",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:"時間"}),u.map(f=>(0,e.jsx)("th",{style:{color:p[f]},className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:f},f))]})}),(0,e.jsxs)("tbody",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:[(0,e.jsxs)("tr",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" cumulative-row",children:[(0,e.jsxs)("td",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:["累計 (",y,")"]}),u.map(f=>{let d=g(a,y),t=null==d?void 0:d[f];return(0,e.jsx)("td",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" "+"".concat(t?parseFloat(t)>0?"positive-rate":"negative-rate":""),children:t?"".concat(t,"%"):"-"},f)})]}),t&&(0,e.jsxs)("tr",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:[(0,e.jsx)("td",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:"當前"}),u.map(f=>{var a,d,c;return(0,e.jsxs)("td",{onMouseEnter:a=>"HyperLiquid"===f&&B(a,t.rates[f]),onMouseLeave:C,className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" "+"".concat((null===(a=t.rates[f])||void 0===a?void 0:a.rate)?parseFloat(t.rates[f].rate)>0?"positive-rate":"negative-rate":""),children:[(null===(d=t.rates[f])||void 0===d?void 0:d.rate)?"".concat(t.rates[f].rate,"%"):"-","HyperLiquid"===f&&(null===(c=t.rates[f])||void 0===c?void 0:c.hourlyRates)&&(0,e.jsx)("span",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" info-icon",children:"ℹ"})]},f)})]}),Object.entries(null==a?void 0:a.data.reduce((f,a)=>{if(a.isCurrent)return f;let d=new Date(a.time).toLocaleString();return f[d]||(f[d]={}),f[d][a.exchange]=a,f},{})).sort((f,a)=>new Date(a[0])-new Date(f[0])).map(f=>{let[a,d]=f;return(0,e.jsxs)("tr",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:[(0,e.jsx)("td",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]]),children:a}),u.map(f=>{var a,t,c;return(0,e.jsxs)("td",{onMouseEnter:a=>{var e;return"HyperLiquid"===f&&(null===(e=d[f])||void 0===e?void 0:e.hourlyRates)&&B(a,d[f])},onMouseLeave:C,className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" "+"".concat((null===(a=d[f])||void 0===a?void 0:a.rate)&&parseFloat(d[f].rate)>0?"positive-rate":"negative-rate"),children:[(null===(t=d[f])||void 0===t?void 0:t.rate)?"".concat(d[f].rate,"%"):"-","HyperLiquid"===f&&(null===(c=d[f])||void 0===c?void 0:c.hourlyRates)&&(0,e.jsx)("span",{className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" info-icon",children:"ℹ"})]},f)})]},a)})]})]})})]})]}),j&&(0,e.jsxs)("div",{style:{position:"fixed",left:"".concat(z.x,"px"),top:"".concat(z.y,"px"),transform:"translate(-50%, -100%)",zIndex:1e4,background:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",lineHeight:1.4,whiteSpace:"pre",pointerEvents:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",maxWidth:"300px",maxHeight:"200px",overflowY:"auto"},className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])+" tooltip",children:[j,(0,e.jsx)("div",{style:{position:"absolute",left:"50%",bottom:"-6px",transform:"translateX(-50%)",width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid rgba(0, 0, 0, 0.9)"},className:r().dynamic([["7eb91cf52f0d2b06",[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"]]])})]}),(0,e.jsx)(r(),{id:"7eb91cf52f0d2b06",dynamic:[F?"#1a1a1a":"#ffffff",F?"#2d2d2d":"#f8f9fa",F?"#ffffff":"#000000",F?"#cccccc":"#666666",F?"#404040":"#dddddd","#4caf50","#f44336",F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)","#fff",F?"#2d2d2d":"#f8f9fa"],children:":root{--bg-primary:".concat(F?"#1a1a1a":"#ffffff",";--bg-secondary:").concat(F?"#2d2d2d":"#f8f9fa",";--text-primary:").concat(F?"#ffffff":"#000000",";--text-secondary:").concat(F?"#cccccc":"#666666",";--border-color:").concat(F?"#404040":"#dddddd",";--positive-rate:").concat("#4caf50",";--negative-rate:").concat("#f44336",'}body{background-color:var(--bg-primary);color:var(--text-primary)}.container{padding:20px;max-width:1200px;margin:0 auto}.header{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px}.controls{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:8px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.theme-toggle{padding:8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;border:1px solid var(--border-color);background:var(--bg-secondary);cursor:pointer;font-size:16px}.select-control{padding:8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;border:1px solid var(--border-color);background:var(--bg-secondary);color:var(--text-primary)}.time-range{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:8px}.time-range button{padding:8px 16px;border:1px solid var(--border-color);-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background:var(--bg-secondary);color:var(--text-primary);cursor:pointer}.time-range button.active{background:#007bff;color:white;border-color:#007bff}.loading{text-align:center;padding:20px}.history-content{margin-top:20px}.chart-container{height:400px;margin-bottom:20px;padding:20px;border:1px solid var(--border-color);-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background:var(--bg-secondary)}.data-table{position:relative;overflow-x:auto;margin-top:20px}.tooltip-container{position:fixed;pointer-events:none;z-index:10000}table{width:100%;border-collapse:collapse;white-space:nowrap}th,td{padding:12px;border:1px solid var(--border-color);text-align:center;min-width:100px}th{background:var(--bg-secondary);color:var(--text-primary)}td:first-child{background:var(--bg-secondary);color:var(--text-primary)}.positive-rate{color:var(--positive-rate)}.negative-rate{color:var(--negative-rate)}.has-tooltip{position:relative;cursor:help}.has-tooltip:hover:before{content:attr(data-tooltip);position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-150%);-moz-transform:translate(-50%,-150%);-ms-transform:translate(-50%,-150%);-o-transform:translate(-50%,-150%);transform:translate(-50%,-150%);background:rgba(0,0,0,.9);color:white;padding:8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;white-space:pre;z-index:10000;min-width:200px;max-width:400px;font-size:12px;line-height:1.4;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px rgba(0,0,0,.2);pointer-events:none;text-align:left}.has-tooltip:hover:after{content:"";position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:8px solid transparent;border-top-color:rgba(0,0,0,.9);pointer-events:none;z-index:10000;margin-top:20px}th,td:first-child{z-index:2}.info-icon{display:inline-block;margin-left:4px;font-size:.8em;color:var(--text-secondary)}.tooltip{position:fixed;-webkit-transform:translate(-50%,-100%);-moz-transform:translate(-50%,-100%);-ms-transform:translate(-50%,-100%);-o-transform:translate(-50%,-100%);transform:translate(-50%,-100%);background:').concat(F?"rgba(45, 45, 45, 0.95)":"rgba(0, 0, 0, 0.9)",";color:").concat("#fff",";padding:8px 12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:12px;line-height:1.4;white-space:pre;z-index:10000;pointer-events:none;-webkit-box-shadow:0 2px 8px rgba(0,0,0,.2);-moz-box-shadow:0 2px 8px rgba(0,0,0,.2);box-shadow:0 2px 8px rgba(0,0,0,.2);max-width:300px;max-height:200px;overflow-y:auto;margin-top:-8px}.tooltip::-webkit-scrollbar{width:6px}.tooltip::-webkit-scrollbar-track{background:rgba(255,255,255,.1);-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.tooltip::-webkit-scrollbar-thumb{background:rgba(255,255,255,.3);-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.hyperliquid-cell{position:relative;cursor:pointer}.hyperliquid-cell:hover{background-color:rgba(0,0,0,.05)}.info-icon{display:inline-block;margin-left:4px;font-size:.8em;color:var(--text-secondary);cursor:help}.cumulative-row{background-color:").concat(F?"#2d2d2d":"#f8f9fa",";font-weight:bold}.cumulative-row td:first-child{font-weight:bold}")})]}):null}}},function(f){f.O(0,[196,225,16,888,774,179],function(){return f(f.s=2960)}),_N_E=f.O()}]);